#import "../books/fragments/book.graphql"

query GetAuthor($slug: String!) {
  authors(where: {slug: {_eq: $slug}}) {
    id
    name
    death_year
    born_year
    bio
    books_count
    image {
      url
    }
    contributions(
      where: {contributable_type: {_eq: "Book"}}, 
      order_by: {book: {users_read_count: desc}}
      limit: 100
    ) {
      book {
        ...book
      }
    }
  }
}